{"version":3,"file":"index-DiNzmnTi.js","sources":["../../src/services/calculationEngine.js","../../src/components/Calculator/Calculator.js","../../src/main.js"],"sourcesContent":["import { create, all } from 'mathjs';\r\nimport Decimal from 'decimal.js';\r\n\r\nclass CalculationEngine {\r\n    constructor(precision = 15) {\r\n        this.math = create(all);\r\n        this.precision = precision;\r\n    }\r\n\r\n    /**\r\n     * ÏàòÏãùÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§\r\n     * @param {string} expression - Í≥ÑÏÇ∞Ìï† ÏàòÏãù\r\n     * @returns {Object} { value, error, unit }\r\n     */\r\n    calculate(expression) {\r\n        try {\r\n            const result = this.math.evaluate(expression);\r\n\r\n            // Infinity Ï≤¥ÌÅ¨ (0ÏúºÎ°ú ÎÇòÎàÑÍ∏∞)\r\n            if (typeof result === 'number' && !isFinite(result)) {\r\n                return {\r\n                    value: null,\r\n                    error: '0ÏúºÎ°ú ÎÇòÎàå Ïàò ÏóÜÏäµÎãàÎã§',\r\n                    unit: null\r\n                };\r\n            }\r\n\r\n            return {\r\n                value: this.formatResult(result),\r\n                error: null,\r\n                unit: this.extractUnit(result)\r\n            };\r\n        } catch (error) {\r\n            return {\r\n                value: null,\r\n                error: this.parseError(error),\r\n                unit: null\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Í≤∞Í≥ºÎ•º Ìè¨Îß∑ÌåÖÌï©ÎãàÎã§\r\n     */\r\n    formatResult(value) {\r\n        if (typeof value === 'number') {\r\n            return new Decimal(value)\r\n                .toSignificantDigits(this.precision)\r\n                .toString();\r\n        }\r\n        return String(value);\r\n    }\r\n\r\n    /**\r\n     * Îã®ÏúÑÎ•º Ï∂îÏ∂úÌï©ÎãàÎã§\r\n     */\r\n    extractUnit(result) {\r\n        return result?.unit?.toString() || null;\r\n    }\r\n\r\n    /**\r\n     * ÏóêÎü¨ Î©îÏãúÏßÄÎ•º ÌïúÍ∏ÄÌôîÌï©ÎãàÎã§\r\n     */\r\n    parseError(error) {\r\n        const errorMap = {\r\n            'Undefined symbol': 'Ï†ïÏùòÎêòÏßÄ ÏïäÏùÄ Í∏∞Ìò∏ÏûÖÎãàÎã§',\r\n            'Unexpected end of expression': 'ÏàòÏãùÏù¥ ÏôÑÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§',\r\n            'Division by zero': '0ÏúºÎ°ú ÎÇòÎàå Ïàò ÏóÜÏäµÎãàÎã§',\r\n            'Value expected': 'Í∞íÏù¥ ÌïÑÏöîÌï©ÎãàÎã§'\r\n        };\r\n\r\n        const message = error.message || String(error);\r\n\r\n        // ÏóêÎü¨ Î©îÏãúÏßÄÏóêÏÑú Îß§Ïπ≠ÎêòÎäî ÌÇ§ Ï∞æÍ∏∞\r\n        for (const [key, value] of Object.entries(errorMap)) {\r\n            if (message.includes(key)) {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        return 'Í≥ÑÏÇ∞ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§';\r\n    }\r\n}\r\n\r\nexport default CalculationEngine;\r\n","import CalculationEngine from '../../services/calculationEngine.js';\r\n\r\nclass Calculator {\r\n    constructor() {\r\n        this.engine = new CalculationEngine();\r\n        this.currentExpression = '';\r\n        this.result = null;\r\n        this.error = null;\r\n    }\r\n\r\n    /**\r\n     * Ïà´ÏûêÎÇò Ïó∞ÏÇ∞ÏûêÎ•º ÏûÖÎ†•Ìï©ÎãàÎã§\r\n     */\r\n    input(value) {\r\n        this.currentExpression += value;\r\n        this.error = null;\r\n        return this.currentExpression;\r\n    }\r\n\r\n    /**\r\n     * ÎßàÏßÄÎßâ Î¨∏ÏûêÎ•º ÏÇ≠Ï†úÌï©ÎãàÎã§\r\n     */\r\n    delete() {\r\n        this.currentExpression = this.currentExpression.slice(0, -1);\r\n        return this.currentExpression;\r\n    }\r\n\r\n    /**\r\n     * Ï†ÑÏ≤¥Î•º ÏÇ≠Ï†úÌï©ÎãàÎã§\r\n     */\r\n    clear() {\r\n        this.currentExpression = '';\r\n        this.result = null;\r\n        this.error = null;\r\n        return '';\r\n    }\r\n\r\n    /**\r\n     * Í≥ÑÏÇ∞ÏùÑ Ïã§ÌñâÌï©ÎãàÎã§\r\n     */\r\n    calculate() {\r\n        if (!this.currentExpression) {\r\n            return null;\r\n        }\r\n\r\n        const result = this.engine.calculate(this.currentExpression);\r\n\r\n        if (result.error) {\r\n            this.error = result.error;\r\n            this.result = null;\r\n        } else {\r\n            this.result = result.value;\r\n            this.error = null;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * ÌòÑÏû¨ ÏÉÅÌÉúÎ•º Î∞òÌôòÌï©ÎãàÎã§\r\n     */\r\n    getState() {\r\n        return {\r\n            expression: this.currentExpression,\r\n            result: this.result,\r\n            error: this.error\r\n        };\r\n    }\r\n}\r\n\r\nexport default Calculator;\r\n","import './styles/index.css';\r\nimport Calculator from './components/Calculator/Calculator.js';\r\n\r\nconsole.log('üßÆ EngCalc Pro - Development Mode');\r\n\r\n// Calculator Ïù∏Ïä§ÌÑ¥Ïä§ ÏÉùÏÑ±\r\nconst calculator = new Calculator();\r\n\r\n// App container\r\nconst app = document.querySelector('#app');\r\n\r\n// ÌôîÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò\r\nfunction updateDisplay() {\r\n  const state = calculator.getState();\r\n  const displayEl = document.querySelector('#display');\r\n  const resultEl = document.querySelector('#result');\r\n  const errorEl = document.querySelector('#error');\r\n\r\n  if (displayEl) {\r\n    displayEl.textContent = state.expression || '0';\r\n  }\r\n\r\n  if (resultEl) {\r\n    resultEl.textContent = state.result ? `= ${state.result}` : '';\r\n    resultEl.className = state.result ? 'text-2xl font-bold text-primary' : 'text-2xl font-bold text-gray-500';\r\n  }\r\n\r\n  if (errorEl) {\r\n    errorEl.textContent = state.error || '';\r\n    errorEl.className = state.error ? 'text-sm text-red-400 mt-2' : 'hidden';\r\n  }\r\n}\r\n\r\n// Î≤ÑÌäº ÌÅ¥Î¶≠ Ìï∏Îì§Îü¨\r\nfunction handleButtonClick(value) {\r\n  if (value === 'C') {\r\n    calculator.clear();\r\n  } else if (value === 'DEL') {\r\n    calculator.delete();\r\n  } else if (value === '=') {\r\n    calculator.calculate();\r\n  } else {\r\n    calculator.input(value);\r\n  }\r\n  updateDisplay();\r\n}\r\n\r\n// ÌÇ§Î≥¥Îìú ÏûÖÎ†• Ìï∏Îì§Îü¨\r\nfunction handleKeyPress(e) {\r\n  const key = e.key;\r\n\r\n  if (key === 'Enter') {\r\n    e.preventDefault();\r\n    calculator.calculate();\r\n    updateDisplay();\r\n  } else if (key === 'Backspace') {\r\n    e.preventDefault();\r\n    calculator.delete();\r\n    updateDisplay();\r\n  } else if (key === 'Escape') {\r\n    e.preventDefault();\r\n    calculator.clear();\r\n    updateDisplay();\r\n  } else if (/[0-9+\\-*/().^]/.test(key)) {\r\n    calculator.input(key);\r\n    updateDisplay();\r\n  }\r\n}\r\n\r\n// UI Î†åÎçîÎßÅ\r\napp.innerHTML = `\r\n  <div class=\"min-h-screen flex flex-col\">\r\n    <!-- Header -->\r\n    <header class=\"sticky top-0 z-50 flex items-center justify-between border-b border-border-dark bg-background-dark/90 backdrop-blur-md px-6 py-3\">\r\n      <div class=\"flex items-center gap-4 text-white\">\r\n        <span class=\"material-symbols-outlined text-4xl text-primary\">calculate</span>\r\n        <h1 class=\"text-xl font-bold\">EngCalc Pro</h1>\r\n      </div>\r\n      <nav class=\"hidden md:flex items-center gap-6\">\r\n        <a href=\"#\" class=\"text-primary font-bold border-b-2 border-primary pb-1\">Calculator</a>\r\n        <a href=\"#\" class=\"text-text-secondary hover:text-white transition-colors\">History</a>\r\n        <a href=\"#\" class=\"text-text-secondary hover:text-white transition-colors\">Settings</a>\r\n      </nav>\r\n    </header>\r\n    \r\n    <!-- Main Calculator -->\r\n    <main class=\"flex-1 flex items-center justify-center p-4 md:p-8\">\r\n      <div class=\"w-full max-w-md\">\r\n        <!-- Display -->\r\n        <div class=\"bg-card-dark rounded-xl p-6 mb-4 border border-border-dark\">\r\n          <div class=\"text-right\">\r\n            <div id=\"display\" class=\"text-3xl font-mono text-white mb-2 min-h-[2.5rem] break-all\">0</div>\r\n            <div id=\"result\" class=\"text-2xl font-bold text-gray-500\"></div>\r\n            <div id=\"error\" class=\"hidden\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Keypad -->\r\n        <div class=\"grid grid-cols-4 gap-2\">\r\n          <!-- Row 1 -->\r\n          <button class=\"btn-secondary\" data-value=\"C\">C</button>\r\n          <button class=\"btn-secondary\" data-value=\"DEL\">DEL</button>\r\n          <button class=\"btn-secondary\" data-value=\"(\">(</button>\r\n          <button class=\"btn-secondary\" data-value=\")\">)</button>\r\n          \r\n          <!-- Row 2 -->\r\n          <button class=\"btn-number\" data-value=\"7\">7</button>\r\n          <button class=\"btn-number\" data-value=\"8\">8</button>\r\n          <button class=\"btn-number\" data-value=\"9\">9</button>\r\n          <button class=\"btn-operator\" data-value=\"/\">√∑</button>\r\n          \r\n          <!-- Row 3 -->\r\n          <button class=\"btn-number\" data-value=\"4\">4</button>\r\n          <button class=\"btn-number\" data-value=\"5\">5</button>\r\n          <button class=\"btn-number\" data-value=\"6\">6</button>\r\n          <button class=\"btn-operator\" data-value=\"*\">√ó</button>\r\n          \r\n          <!-- Row 4 -->\r\n          <button class=\"btn-number\" data-value=\"1\">1</button>\r\n          <button class=\"btn-number\" data-value=\"2\">2</button>\r\n          <button class=\"btn-number\" data-value=\"3\">3</button>\r\n          <button class=\"btn-operator\" data-value=\"-\">‚àí</button>\r\n          \r\n          <!-- Row 5 -->\r\n          <button class=\"btn-number\" data-value=\"0\">0</button>\r\n          <button class=\"btn-number\" data-value=\".\">.</button>\r\n          <button class=\"btn-primary\" data-value=\"=\">=</button>\r\n          <button class=\"btn-operator\" data-value=\"+\">+</button>\r\n          \r\n          <!-- Row 6 - Advanced Functions -->\r\n          <button class=\"btn-function\" data-value=\"sin(\">sin</button>\r\n          <button class=\"btn-function\" data-value=\"cos(\">cos</button>\r\n          <button class=\"btn-function\" data-value=\"tan(\">tan</button>\r\n          <button class=\"btn-function\" data-value=\"^\">x^y</button>\r\n          \r\n          <!-- Row 7 -->\r\n          <button class=\"btn-function\" data-value=\"sqrt(\">‚àö</button>\r\n          <button class=\"btn-function\" data-value=\"log(\">log</button>\r\n          <button class=\"btn-function\" data-value=\"ln(\">ln</button>\r\n          <button class=\"btn-function\" data-value=\"pi\">œÄ</button>\r\n        </div>\r\n        \r\n        <!-- Keyboard Hint -->\r\n        <div class=\"mt-4 text-center text-text-secondary text-sm\">\r\n          <p>üí° Tip: ÌÇ§Î≥¥ÎìúÎ°úÎèÑ ÏûÖÎ†• Í∞ÄÎä• (Enter: Í≥ÑÏÇ∞, Esc: Ï¥àÍ∏∞Ìôî)</p>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n`;\r\n\r\n// Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù\r\ndocument.querySelectorAll('button[data-value]').forEach(button => {\r\n  button.addEventListener('click', () => {\r\n    handleButtonClick(button.dataset.value);\r\n  });\r\n});\r\n\r\ndocument.addEventListener('keydown', handleKeyPress);\r\n\r\nconsole.log('‚úÖ App initialized');\r\nupdateDisplay();\r\n"],"names":["CalculationEngine","precision","create","all","expression","result","error","value","Decimal","_a","errorMap","message","key","Calculator","calculator","app","updateDisplay","state","displayEl","resultEl","errorEl","handleButtonClick","handleKeyPress","button"],"mappings":"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"}